<html><head><title>simpledba: Home</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="io.github.doolse" /><meta name="description" content="Simple Database Access for Scala" /><meta name="og:image" content="/img/poster.png" /><meta name="image" property="og:image" content="/img/poster.png" /><meta name="og:title" content="simpledba: Home" /><meta name="title" property="og:title" content="simpledba: Home" /><meta name="og:site_name" content="simpledba" /><meta name="og:url" content="https://doolse.github.io/simpledba" /><meta name="og:type" content="website" /><meta name="og:description" content="Simple Database Access for Scala" /><link rel="icon" type="image/png" href="/img/favicon.png" /><meta name="twitter:title" content="simpledba: Home" /><meta name="twitter:image" content="/img/poster.png" /><meta name="twitter:description" content="Simple Database Access for Scala" /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/highlight/styles/pojoaque.css" /><link rel="stylesheet" href="/css/style.css" /><link rel="stylesheet" href="/css/palette.css" /><link rel="stylesheet" href="/css/codemirror.css" /></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-6"><a href="/" class="brand"><div class="icon-wrapper"><span>simpledba</span></div></a></div><div class="col-xs-6"><nav class="text-right"><ul class=""><li><a href="https://github.com/doolse/simpledba"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">Simple Database Access for Scala</h1><h2></h2><p class="text-center"><a href="https://github.com/doolse/simpledba" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div><ul class="horizontalNav">      </ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><h1 id="simpledba---simple-database-access-for-scala">simpledba - Simple Database Access for Scala</h1>

<p><a href="https://travis-ci.org/doolse/simpledba"><img src="https://api.travis-ci.org/doolse/simpledba.svg" alt="Build Status" /></a>
<a href="https://coveralls.io/github/doolse/simpledba?branch=master"><img src="https://coveralls.io/repos/github/doolse/simpledba/badge.svg?branch=master" alt="Coverage Status" /></a></p>

<h2 id="tldr">TL;DR</h2>

<p>Map case classes into columns for your DB, create typesafe queries that run with your favourite effect and streaming library.</p>

<h1 id="goals">Goals</h1>

<ul>
  <li>Prevent you from writing queries which the database won’t allow you to run, using types.</li>
  <li>Support as many column family style DB’s as possible. (DynamoDB, Cassandra, Google Cloud Datastore)</li>
  <li>Support JDBC with full typed support for non joined queries. Joined queries can be created with un-typechecked SQL.</li>
  <li>Facilitate writing DB agnostic query layers. Switching between AWS and Google Cloud? No Problem.</li>
  <li>Be a library, not a framework. No magic, just principles.</li>
</ul>

<h2 id="quickstart">Quickstart</h2>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="n">simpledbaVersion</span> <span class="k">=</span> <span class="s">"0.1.11-SNAPSHOT"</span>

<span class="n">libraryDependencies</span> <span class="o">++=</span> <span class="nc">Seq</span><span class="o">(</span>
  <span class="s">"io.doolse"</span> <span class="o">%%</span> <span class="s">"simpledba-jdbc"</span><span class="o">,</span>
  <span class="s">"io.doolse"</span> <span class="o">%%</span> <span class="s">"simpledba-dynamodb"</span><span class="o">,</span>
  <span class="s">"io.doolse"</span> <span class="o">%%</span> <span class="s">"simpledba-circe"</span>
<span class="o">).</span><span class="n">map</span><span class="o">(</span><span class="k">_</span> <span class="o">%</span> <span class="n">simpledbaVersion</span><span class="o">)</span>
</code></pre></div></div>

<p>Define your domain model case classes and a database agnostic query trait.
In this example we will be using ZIO with it’s stream library for the effects.</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">java.util.UUID</span>

<span class="k">import</span> <span class="nn">io.doolse.simpledba._</span>
<span class="k">import</span> <span class="nn">zio._</span>
<span class="k">import</span> <span class="nn">zio.stream._</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">User</span><span class="o">(</span><span class="n">userId</span><span class="k">:</span> <span class="kt">UUID</span><span class="o">,</span> <span class="n">firstName</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">lastName</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">yearOfBirth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span>

<span class="k">case</span> <span class="k">class</span> <span class="nc">Car</span><span class="o">(</span><span class="n">id</span><span class="k">:</span> <span class="kt">UUID</span><span class="o">,</span> <span class="n">make</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">model</span><span class="k">:</span> <span class="kt">String</span><span class="o">,</span> <span class="n">ownerId</span><span class="k">:</span> <span class="kt">UUID</span><span class="o">)</span>

<span class="c1">// Support multiple DB types by parameterizing on the write operation type
</span><span class="k">trait</span> <span class="nc">Queries</span><span class="o">[</span><span class="kt">W</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">type</span> <span class="kt">S</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Stream</span><span class="o">[</span><span class="kt">Throwable</span>, <span class="kt">A</span><span class="o">]</span>
  <span class="k">type</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Task</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>
  <span class="k">type</span> <span class="kt">Writes</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">WriteQueries</span><span class="o">[</span><span class="kt">S</span>, <span class="kt">F</span>, <span class="kt">W</span>, <span class="kt">A</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">users</span><span class="k">:</span> <span class="kt">Writes</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">cars</span><span class="k">:</span> <span class="kt">Writes</span><span class="o">[</span><span class="kt">Car</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">usersByFirstName</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span> <span class="n">S</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">carsForUser</span><span class="k">:</span> <span class="kt">UUID</span> <span class="o">=&gt;</span> <span class="n">S</span><span class="o">[</span><span class="kt">Car</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">flush</span><span class="k">:</span> <span class="kt">S</span><span class="o">[</span><span class="kt">W</span><span class="o">]</span> <span class="k">=&gt;</span> <span class="n">F</span><span class="o">[</span><span class="kt">Unit</span><span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Write your app:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">trait</span> <span class="nc">ExampleApp</span><span class="o">[</span><span class="kt">W</span><span class="o">]</span> <span class="o">{</span>

  <span class="k">type</span> <span class="kt">S</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Stream</span><span class="o">[</span><span class="kt">Throwable</span>, <span class="kt">A</span><span class="o">]</span>
  <span class="k">type</span> <span class="kt">F</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">Task</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span>

  <span class="k">def</span> <span class="n">queries</span><span class="k">:</span> <span class="kt">Queries</span><span class="o">[</span><span class="kt">W</span><span class="o">]</span>
  <span class="k">def</span> <span class="n">initSchema</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">Unit</span><span class="o">]</span>

  <span class="k">def</span> <span class="n">initData</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">Unit</span><span class="o">]</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">magId</span> <span class="k">=</span> <span class="nc">UUID</span><span class="o">.</span><span class="n">randomUUID</span><span class="o">()</span>
    <span class="k">val</span> <span class="n">mahId</span> <span class="k">=</span> <span class="nc">UUID</span><span class="o">.</span><span class="n">randomUUID</span><span class="o">()</span>
    <span class="n">queries</span><span class="o">.</span><span class="n">flush</span> <span class="o">{</span>
      <span class="n">queries</span><span class="o">.</span><span class="n">users</span><span class="o">.</span><span class="n">insertAll</span><span class="o">(</span>
        <span class="nc">Stream</span><span class="o">(</span><span class="nc">User</span><span class="o">(</span><span class="n">magId</span><span class="o">,</span> <span class="s">"Jolse"</span><span class="o">,</span> <span class="s">"Maginnis"</span><span class="o">,</span> <span class="mi">1980</span><span class="o">),</span> <span class="nc">User</span><span class="o">(</span><span class="n">mahId</span><span class="o">,</span> <span class="s">"Jolse"</span><span class="o">,</span> <span class="s">"Mahinnis"</span><span class="o">,</span> <span class="mi">1999</span><span class="o">)))</span> <span class="o">++</span>
        <span class="n">queries</span><span class="o">.</span><span class="n">cars</span><span class="o">.</span><span class="n">insertAll</span><span class="o">(</span>
          <span class="nc">Stream</span><span class="o">(</span>
            <span class="nc">Car</span><span class="o">(</span><span class="nc">UUID</span><span class="o">.</span><span class="n">randomUUID</span><span class="o">(),</span> <span class="s">"Honda"</span><span class="o">,</span> <span class="s">"Accord Euro"</span><span class="o">,</span> <span class="n">magId</span><span class="o">),</span>
            <span class="nc">Car</span><span class="o">(</span><span class="nc">UUID</span><span class="o">.</span><span class="n">randomUUID</span><span class="o">(),</span> <span class="s">"Honda"</span><span class="o">,</span> <span class="s">"Civic"</span><span class="o">,</span> <span class="n">mahId</span><span class="o">),</span>
            <span class="nc">Car</span><span class="o">(</span><span class="nc">UUID</span><span class="o">.</span><span class="n">randomUUID</span><span class="o">(),</span> <span class="s">"Ford"</span><span class="o">,</span> <span class="s">"Laser"</span><span class="o">,</span> <span class="n">magId</span><span class="o">),</span>
            <span class="nc">Car</span><span class="o">(</span><span class="nc">UUID</span><span class="o">.</span><span class="n">randomUUID</span><span class="o">(),</span> <span class="s">"Hyundai"</span><span class="o">,</span> <span class="s">"Accent"</span><span class="o">,</span> <span class="n">magId</span><span class="o">)</span>
          <span class="o">))</span>
    <span class="o">}</span>
  <span class="o">}</span>

  <span class="k">import</span> <span class="nn">zio.console._</span>

  <span class="k">def</span> <span class="n">querySomeData</span><span class="k">:</span> <span class="kt">TaskR</span><span class="o">[</span><span class="kt">Console</span>, <span class="kt">Unit</span><span class="o">]</span> <span class="k">=</span>
    <span class="o">(</span><span class="k">for</span> <span class="o">{</span>
      <span class="n">user</span> <span class="k">&lt;-</span> <span class="n">queries</span><span class="o">.</span><span class="n">usersByFirstName</span><span class="o">(</span><span class="s">"Jolse"</span><span class="o">)</span>
      <span class="k">_</span> <span class="k">&lt;-</span> <span class="nc">Stream</span><span class="o">.</span><span class="n">fromEffect</span> <span class="o">{</span>
        <span class="n">queries</span><span class="o">.</span><span class="n">carsForUser</span><span class="o">(</span><span class="n">user</span><span class="o">.</span><span class="n">userId</span><span class="o">).</span><span class="n">runCollect</span><span class="o">.</span><span class="n">tap</span> <span class="o">{</span> <span class="n">cars</span> <span class="k">=&gt;</span>
          <span class="n">putStrLn</span><span class="o">(</span><span class="n">s</span><span class="s">"${user.firstName} ${user.lastName} owns ${cars}"</span><span class="o">)</span>
        <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">yield</span> <span class="o">()).</span><span class="n">runDrain</span>

  <span class="k">def</span> <span class="n">run</span><span class="o">()</span> <span class="k">=</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">runtime</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">DefaultRuntime</span> <span class="o">{}</span>
    <span class="n">runtime</span><span class="o">.</span><span class="n">unsafeRun</span><span class="o">(</span><span class="n">initSchema</span> <span class="o">*&gt;</span> <span class="n">initData</span> <span class="o">*&gt;</span> <span class="n">querySomeData</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Now we can create a DB specific implementation of the app, let’s start with JDBC (using embedded HSQL).</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">io.doolse.simpledba.jdbc._</span>
<span class="k">import</span> <span class="nn">io.doolse.simpledba.interop.zio._</span>
<span class="k">import</span> <span class="nn">zio.interop.catz._</span>

<span class="k">class</span> <span class="nc">JDBCApp</span><span class="o">(</span><span class="n">logger</span><span class="k">:</span> <span class="kt">JDBCLogger</span><span class="o">[</span><span class="kt">Task</span><span class="o">])</span> <span class="k">extends</span> <span class="nc">ExampleApp</span><span class="o">[</span><span class="kt">JDBCWriteOp</span><span class="o">]</span> <span class="o">{</span>

  <span class="k">import</span> <span class="nn">java.sql.DriverManager</span>
  <span class="k">import</span> <span class="nn">io.doolse.simpledba.jdbc.hsql._</span>

  <span class="c1">// Use HSQL driver, single connection
</span>  <span class="k">val</span> <span class="n">mapper</span>           <span class="k">=</span> <span class="n">hsqldbMapper</span>
  <span class="k">val</span> <span class="n">singleConnection</span> <span class="k">=</span> <span class="nc">DriverManager</span><span class="o">.</span><span class="n">getConnection</span><span class="o">(</span><span class="s">"jdbc:hsqldb:mem:example"</span><span class="o">)</span>

  <span class="k">val</span> <span class="n">jdbcQueries</span> <span class="k">=</span> <span class="n">mapper</span><span class="o">.</span><span class="n">queries</span><span class="o">(</span>
    <span class="k">new</span> <span class="nc">JDBCEffect</span><span class="o">[</span><span class="kt">S</span>, <span class="kt">F</span><span class="o">](</span><span class="nc">ZIO</span><span class="o">.</span><span class="n">succeed</span><span class="o">(</span><span class="n">singleConnection</span><span class="o">),</span> <span class="k">_</span> <span class="k">=&gt;</span> <span class="nc">ZIO</span><span class="o">.</span><span class="n">unit</span><span class="o">,</span> <span class="n">logger</span><span class="o">))</span>

  <span class="k">val</span> <span class="n">carTable</span>  <span class="k">=</span> <span class="n">mapper</span><span class="o">.</span><span class="n">mapped</span><span class="o">[</span><span class="kt">Car</span><span class="o">].</span><span class="n">table</span><span class="o">(</span><span class="s">"cars"</span><span class="o">).</span><span class="n">key</span><span class="o">(</span><span class="ss">'id)</span>
  <span class="k">val</span> <span class="n">userTable</span> <span class="k">=</span> <span class="n">mapper</span><span class="o">.</span><span class="n">mapped</span><span class="o">[</span><span class="kt">User</span><span class="o">].</span><span class="n">table</span><span class="o">(</span><span class="s">"users"</span><span class="o">).</span><span class="n">key</span><span class="o">(</span><span class="ss">'userId)</span>

  <span class="k">import</span> <span class="nn">jdbcQueries._</span>

  <span class="k">override</span> <span class="k">val</span> <span class="n">queries</span><span class="k">:</span> <span class="kt">Queries</span><span class="o">[</span><span class="kt">JDBCWriteOp</span><span class="o">]</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">Queries</span><span class="o">[</span><span class="kt">JDBCWriteOp</span><span class="o">]</span> <span class="o">{</span>
    <span class="k">val</span> <span class="n">users</span><span class="k">:</span> <span class="kt">Writes</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span>                 <span class="k">=</span> <span class="n">writes</span><span class="o">(</span><span class="n">userTable</span><span class="o">)</span>
    <span class="k">val</span> <span class="n">cars</span><span class="k">:</span> <span class="kt">Writes</span><span class="o">[</span><span class="kt">Car</span><span class="o">]</span>                   <span class="k">=</span> <span class="n">writes</span><span class="o">(</span><span class="n">carTable</span><span class="o">)</span>
    <span class="k">val</span> <span class="n">usersByFirstName</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span> <span class="n">S</span><span class="o">[</span><span class="kt">User</span><span class="o">]</span> <span class="k">=</span> <span class="n">query</span><span class="o">(</span><span class="n">userTable</span><span class="o">).</span><span class="n">where</span><span class="o">(</span><span class="ss">'firstName,</span> <span class="nc">BinOp</span><span class="o">.</span><span class="nc">EQ</span><span class="o">).</span><span class="n">build</span>
    <span class="k">val</span> <span class="n">carsForUser</span><span class="k">:</span> <span class="kt">UUID</span> <span class="o">=&gt;</span> <span class="n">S</span><span class="o">[</span><span class="kt">Car</span><span class="o">]</span>         <span class="k">=</span> <span class="n">query</span><span class="o">(</span><span class="n">carTable</span><span class="o">).</span><span class="n">where</span><span class="o">(</span><span class="ss">'ownerId,</span> <span class="nc">BinOp</span><span class="o">.</span><span class="nc">EQ</span><span class="o">).</span><span class="n">build</span>
    <span class="k">val</span> <span class="n">flush</span><span class="k">:</span> <span class="kt">S</span><span class="o">[</span><span class="kt">JDBCWriteOp</span><span class="o">]</span> <span class="k">=&gt;</span> <span class="n">F</span><span class="o">[</span><span class="kt">Unit</span><span class="o">]</span>    <span class="k">=</span> <span class="n">jdbcQueries</span><span class="o">.</span><span class="n">flush</span>
  <span class="o">}</span>
  <span class="k">override</span> <span class="k">val</span> <span class="n">initSchema</span><span class="k">:</span> <span class="kt">F</span><span class="o">[</span><span class="kt">Unit</span><span class="o">]</span> <span class="k">=</span> <span class="n">jdbcQueries</span><span class="o">.</span><span class="n">flush</span> <span class="o">{</span>
    <span class="nc">Stream</span><span class="o">(</span><span class="n">carTable</span><span class="o">,</span> <span class="n">userTable</span><span class="o">).</span><span class="n">flatMap</span><span class="o">(</span><span class="n">dropAndCreate</span><span class="o">)</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Running this gives you the expected result:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">new</span> <span class="nc">JDBCApp</span><span class="o">(</span><span class="nc">NothingLogger</span><span class="o">()).</span><span class="n">run</span><span class="o">()</span>
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Jolse Mahinnis owns List(Car(160caf45-8c81-4649-9d73-fd80a31a345f,Honda,Civic,8af71919-6004-42fb-a733-a30eb241f7d7))
Jolse Maginnis owns List(Car(251afb45-1682-4318-842f-09976ab4ef0b,Hyundai,Accent,bc838a6d-253a-434b-a574-2e8facc44bba), Car(cdc95363-57a7-446f-b5b6-5e71ae4a78ad,Honda,Accord Euro,bc838a6d-253a-434b-a574-2e8facc44bba), Car(dc49cff4-d05b-4937-b875-024a660e6f9c,Ford,Laser,bc838a6d-253a-434b-a574-2e8facc44bba))
</code></pre></div></div>

<p>To see what’s going on with SQL being executed, you can log the queries:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">cars</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="c1">-- Values: List()</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">cars</span> <span class="p">(</span><span class="n">id</span> <span class="n">UUID</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">make</span> <span class="n">LONGVARCHAR</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="n">model</span> <span class="n">LONGVARCHAR</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="nv">"ownerId"</span> <span class="n">UUID</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">id</span><span class="p">))</span> <span class="c1">-- Values: List()</span>
<span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">users</span> <span class="n">IF</span> <span class="k">EXISTS</span> <span class="c1">-- Values: List()</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">users</span> <span class="p">(</span><span class="nv">"userId"</span> <span class="n">UUID</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="nv">"firstName"</span> <span class="n">LONGVARCHAR</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="nv">"lastName"</span> <span class="n">LONGVARCHAR</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="nv">"yearOfBirth"</span> <span class="n">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span><span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="nv">"userId"</span><span class="p">))</span> <span class="c1">-- Values: List()</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">users</span> <span class="p">(</span><span class="nv">"userId"</span><span class="p">,</span><span class="nv">"firstName"</span><span class="p">,</span><span class="nv">"lastName"</span><span class="p">,</span><span class="nv">"yearOfBirth"</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">)</span> <span class="c1">-- Values: List(1980, Maginnis, Jolse, a8cfbf2e-965f-46cb-971a-6ebd85ac18df)</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">users</span> <span class="p">(</span><span class="nv">"userId"</span><span class="p">,</span><span class="nv">"firstName"</span><span class="p">,</span><span class="nv">"lastName"</span><span class="p">,</span><span class="nv">"yearOfBirth"</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">)</span> <span class="c1">-- Values: List(1999, Mahinnis, Jolse, 2c3be6dc-d30c-4c3f-84ea-d236fb86668e)</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">cars</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">make</span><span class="p">,</span><span class="n">model</span><span class="p">,</span><span class="nv">"ownerId"</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">)</span> <span class="c1">-- Values: List(a8cfbf2e-965f-46cb-971a-6ebd85ac18df, Accord Euro, Honda, b09845ad-271a-4a97-822b-ed1a00f3943c)</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">cars</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">make</span><span class="p">,</span><span class="n">model</span><span class="p">,</span><span class="nv">"ownerId"</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">)</span> <span class="c1">-- Values: List(2c3be6dc-d30c-4c3f-84ea-d236fb86668e, Civic, Honda, a55f151a-1922-4d84-8387-ce0b91be5e48)</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">cars</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">make</span><span class="p">,</span><span class="n">model</span><span class="p">,</span><span class="nv">"ownerId"</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">)</span> <span class="c1">-- Values: List(a8cfbf2e-965f-46cb-971a-6ebd85ac18df, Laser, Ford, f79a3bcd-fffc-4289-904c-7f7899e71b55)</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">cars</span> <span class="p">(</span><span class="n">id</span><span class="p">,</span><span class="n">make</span><span class="p">,</span><span class="n">model</span><span class="p">,</span><span class="nv">"ownerId"</span><span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">,</span><span class="o">?</span><span class="p">)</span> <span class="c1">-- Values: List(a8cfbf2e-965f-46cb-971a-6ebd85ac18df, Accent, Hyundai, a7edf112-f195-4827-baa6-9e5c72892277)</span>
<span class="k">SELECT</span> <span class="nv">"userId"</span><span class="p">,</span><span class="nv">"firstName"</span><span class="p">,</span><span class="nv">"lastName"</span><span class="p">,</span><span class="nv">"yearOfBirth"</span> <span class="k">FROM</span> <span class="n">users</span> <span class="k">WHERE</span> <span class="nv">"firstName"</span> <span class="o">=</span> <span class="o">?</span>  <span class="c1">-- Values: List(Jolse)</span>
<span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span><span class="n">make</span><span class="p">,</span><span class="n">model</span><span class="p">,</span><span class="nv">"ownerId"</span> <span class="k">FROM</span> <span class="n">cars</span> <span class="k">WHERE</span> <span class="nv">"ownerId"</span> <span class="o">=</span> <span class="o">?</span>  <span class="c1">-- Values: List(2c3be6dc-d30c-4c3f-84ea-d236fb86668e)</span>
<span class="n">Jolse</span> <span class="n">Mahinnis</span> <span class="n">owns</span> <span class="n">List</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="n">a55f151a</span><span class="o">-</span><span class="mi">1922</span><span class="o">-</span><span class="mi">4</span><span class="n">d84</span><span class="o">-</span><span class="mi">8387</span><span class="o">-</span><span class="n">ce0b91be5e48</span><span class="p">,</span><span class="n">Honda</span><span class="p">,</span><span class="n">Civic</span><span class="p">,</span><span class="mi">2</span><span class="n">c3be6dc</span><span class="o">-</span><span class="n">d30c</span><span class="o">-</span><span class="mi">4</span><span class="n">c3f</span><span class="o">-</span><span class="mi">84</span><span class="n">ea</span><span class="o">-</span><span class="n">d236fb86668e</span><span class="p">))</span>
<span class="k">SELECT</span> <span class="n">id</span><span class="p">,</span><span class="n">make</span><span class="p">,</span><span class="n">model</span><span class="p">,</span><span class="nv">"ownerId"</span> <span class="k">FROM</span> <span class="n">cars</span> <span class="k">WHERE</span> <span class="nv">"ownerId"</span> <span class="o">=</span> <span class="o">?</span>  <span class="c1">-- Values: List(a8cfbf2e-965f-46cb-971a-6ebd85ac18df)</span>
<span class="n">Jolse</span> <span class="n">Maginnis</span> <span class="n">owns</span> <span class="n">List</span><span class="p">(</span><span class="n">Car</span><span class="p">(</span><span class="n">a7edf112</span><span class="o">-</span><span class="n">f195</span><span class="o">-</span><span class="mi">4827</span><span class="o">-</span><span class="n">baa6</span><span class="o">-</span><span class="mi">9</span><span class="n">e5c72892277</span><span class="p">,</span><span class="n">Hyundai</span><span class="p">,</span><span class="n">Accent</span><span class="p">,</span><span class="n">a8cfbf2e</span><span class="o">-</span><span class="mi">965</span><span class="n">f</span><span class="o">-</span><span class="mi">46</span><span class="n">cb</span><span class="o">-</span><span class="mi">971</span><span class="n">a</span><span class="o">-</span><span class="mi">6</span><span class="n">ebd85ac18df</span><span class="p">),</span> <span class="n">Car</span><span class="p">(</span><span class="n">b09845ad</span><span class="o">-</span><span class="mi">271</span><span class="n">a</span><span class="o">-</span><span class="mi">4</span><span class="n">a97</span><span class="o">-</span><span class="mi">822</span><span class="n">b</span><span class="o">-</span><span class="n">ed1a00f3943c</span><span class="p">,</span><span class="n">Honda</span><span class="p">,</span><span class="n">Accord</span> <span class="n">Euro</span><span class="p">,</span><span class="n">a8cfbf2e</span><span class="o">-</span><span class="mi">965</span><span class="n">f</span><span class="o">-</span><span class="mi">46</span><span class="n">cb</span><span class="o">-</span><span class="mi">971</span><span class="n">a</span><span class="o">-</span><span class="mi">6</span><span class="n">ebd85ac18df</span><span class="p">),</span> <span class="n">Car</span><span class="p">(</span><span class="n">f79a3bcd</span><span class="o">-</span><span class="n">fffc</span><span class="o">-</span><span class="mi">4289</span><span class="o">-</span><span class="mi">904</span><span class="k">c</span><span class="o">-</span><span class="mi">7</span><span class="n">f7899e71b55</span><span class="p">,</span><span class="n">Ford</span><span class="p">,</span><span class="n">Laser</span><span class="p">,</span><span class="n">a8cfbf2e</span><span class="o">-</span><span class="mi">965</span><span class="n">f</span><span class="o">-</span><span class="mi">46</span><span class="n">cb</span><span class="o">-</span><span class="mi">971</span><span class="n">a</span><span class="o">-</span><span class="mi">6</span><span class="n">ebd85ac18df</span><span class="p">))</span>
</code></pre></div></div>

</div></div></section><section class="technologies"><div class="container"><div class="row"></div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>simpledba is designed and developed by <a href="https://github.com/doolse/simpledba" target="_blank">io.github.doolse</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/doolse/simpledba"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><div class="row"><div class="col-xs-6"><p>Website built with <a href="https://47deg.github.io/sbt-microsites/" target="_blank">Sbt-microsites</a> - © 2016 <a href="https://www.47deg.com/" target="_blank">47 Degrees</a></p></div></div><script src="/highlight/highlight.pack.js"></script><script>hljs.initHighlighting();
              </script></div></footer></body></html>